echo "Create ecs web service by feeding (c)onfigs in a json file"
Create ecs web service by feeding (c)onfigs in a json file
./scripts/create-service.sh
INFO[0000] Using ECS task definition                     TaskDefinition="dockerzon-ecs:3"
WARN[0000] Failed to create log group /ecs/dockerzon/dev in ap-southeast-2: The specified log group already exists
WARN[0000] Failed to create log group /ecs/dockerzon/dev in ap-southeast-2: The specified log group already exists
WARN[0000] You cannot update the load balancer configuration on an existing service.  serviceName=dockerzon-ecs
INFO[0000] Updated the ECS service with a new task definition. Old containers will be stopped automatically, and replaced with new ones  desiredCount=1 force-deployment=false service=dockerzon-ecs
INFO[0000] Service status                                desiredCount=1 runningCount=1 serviceName=dockerzon-ecs
INFO[0015] Service status                                desiredCount=1 runningCount=2 serviceName=dockerzon-ecs
INFO[0015] (service dockerzon-ecs) has started 1 tasks: (task a874aaf4-9f4f-4bb7-81a5-fd7b58fdcee9).  timestamp="2020-03-04 11:22:30 +0000 UTC"
INFO[0030] (service dockerzon-ecs) registered 1 targets in (target-group arn:aws:elasticloadbalancing:ap-southeast-2:216659404274:targetgroup/dockerzon-lb-tg/93ef0d937de5ccbe)  timestamp="2020-03-04 11:22:41 +0000 UTC"
INFO[0076] (service dockerzon-ecs) has begun draining connections on 1 tasks.  timestamp="2020-03-04 11:23:20 +0000 UTC"
INFO[0076] (service dockerzon-ecs) deregistered 1 targets in (target-group arn:aws:elasticloadbalancing:ap-southeast-2:216659404274:targetgroup/dockerzon-lb-tg/93ef0d937de5ccbe)  timestamp="2020-03-04 11:23:20 +0000 UTC"
INFO[0378] Service status                                desiredCount=1 runningCount=1 serviceName=dockerzon-ecs
INFO[0378] (service dockerzon-ecs) has stopped 1 running tasks: (task 0b1dba8a-6401-41e2-aadc-22b01b8691ea).  timestamp="2020-03-04 11:28:24 +0000 UTC"
INFO[0378] ECS Service has reached a stable state        desiredCount=1 runningCount=1 serviceName=dockerzon-ecs
INFO[0000] Updated ECS service successfully              deployment-max-percent=100 deployment-min-healthy-percent=50 desiredCount=2 force-deployment=false service=dockerzon-ecs
INFO[0000] Service status                                desiredCount=2 runningCount=1 serviceName=dockerzon-ecs
INFO[0015] (service dockerzon-ecs) has started 1 tasks: (task e174ee0e-b182-4f4b-ac1a-1648cbd425b4).  timestamp="2020-03-04 11:28:43 +0000 UTC"
INFO[0030] Service status                                desiredCount=2 runningCount=2 serviceName=dockerzon-ecs
INFO[0030] (service dockerzon-ecs) registered 1 targets in (target-group arn:aws:elasticloadbalancing:ap-southeast-2:216659404274:targetgroup/dockerzon-lb-tg/93ef0d937de5ccbe)  timestamp="2020-03-04 11:29:03 +0000 UTC"
INFO[0030] ECS Service has reached a stable state        desiredCount=2 runningCount=2 serviceName=dockerzon-ecs
